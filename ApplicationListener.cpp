#include "ApplicationListener.h"
#include "Object.h"
#include "SceneManager.h"


namespace XPlatform
{
	/////////////////////////////////////////////////////////////////////////////
	// @ »ý¼ºµÊ.
	/////////////////////////////////////////////////////////////////////////////
	void ApplicationListener::OnCreate()
	{
		//m_RootNode = CreateInstance(Node);
		//CreateInstance(Component);
	}

	/////////////////////////////////////////////////////////////////////////////
	// @ ÆÄ±«µÊ.
	/////////////////////////////////////////////////////////////////////////////
	void ApplicationListener::OnDestroy()
	{
		//m_RootNode.reset();
		//Object::Destroy(m_RootNode);
	}

	/////////////////////////////////////////////////////////////////////////////
	// @ ÀÏ½ÃÁ¤ÁöµÊ.
	/////////////////////////////////////////////////////////////////////////////
	void ApplicationListener::OnPause()
	{
	}

	/////////////////////////////////////////////////////////////////////////////
	// @ Àç°³µÊ.
	/////////////////////////////////////////////////////////////////////////////
	void ApplicationListener::OnResume()
	{
	}

	/////////////////////////////////////////////////////////////////////////////
	// @ °»½ÅµÊ.
	/////////////////////////////////////////////////////////////////////////////
	void ApplicationListener::OnUpdate(float deltaTime)
	{
	}

	/////////////////////////////////////////////////////////////////////////////
	// @ Ãâ·ÂµÊ.
	/////////////////////////////////////////////////////////////////////////////
	void ApplicationListener::OnRender(std::shared_ptr<XGL> gl)
	{
		// »ç°¢Çü Ãâ·Â.
		gl->Clear(XGL::AttribMask::GL_COLOR_BUFFER_BIT);
		gl->LoadIdentity();
		gl->Begin(XGL::BeginMode::GL_QUADS);
		gl->Vertex3f(-0.5f, -0.5f, 0.0f); // ÁÂÇÏ.
		gl->Color4f(1.0f, 0.0f, 0.0f, 1.0f);
		gl->Vertex3f(0.5f, -0.5f, 0.0f); // ¿ìÇÏ.
		gl->Color4f(1.0f, 0.0f, 1.0f, 1.0f);
		gl->Vertex3f(0.5f, 0.5f, 0.0f); // ¿ì»ó.
		gl->Color4f(1.0f, 0.0f, 0.0f, 1.0f);
		gl->Vertex3f(-0.5f, 0.5f, 0.0f); // ÁÂ»ó.
		gl->Color4f(1.0f, 1.0f, 0.0f, 1.0f);
		gl->End();
		gl->Flush();
	}
}